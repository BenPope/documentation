---
title: Node maintenance mode
---

<head>
    <meta name="title" content="Node maintenance mode | Redpanda Docs"/>
    <meta name="description" content="Enabling node maintenance mode."/>
</head>

Node maintenance mode enables you to bring a Redpanda node into a state where you can safely perform operations like an upgrade or disk replacement, while reducing the risk of data loss or downtime.

When a node is placed in maintenance mode, it relinquishes leadership of any partitions, reassigns that leadership to other nodes in the cluster, and ensures that the node cannot gain partition leadership until the node rejoins the cluster.

If a node hosts a partition with a replica count of 1, you have two options:

* Manually reassign the partition to another node.
* Increase the number of replicas to ensure that the partition is available for Apache Kafka clients.

Maintenance mode only transfers leadership; it does not move any partitions to other nodes in the cluster. The amount of time it takes to drain a node and reassign leadership depends on the number of partitions and how healthy the cluster is. For healthy clusters (`acks = all`) and small partition sizes, draining leadership should take less than a minute. If partition sizes are large, it may take a few minutes. If the cluster is unhealthy (for example, a follower is lagging behind), then draining the node can take even longer. Note that the draining process wonâ€™t start until the cluster is healthy.

When a node is in maintenance mode, Redpanda continues to replicate follower partition data to that node. If the node becomes unreachable, then the cluster could accumulate under-replicated partitions until the node becomes available or it is decommissioned.

## Placing a node in maintenance mode

Before placing a node in maintenance mode, ensure that partition replicas are on other nodes in the cluster. Alternatively, you can manually reassign partitions to other nodes. You may also want to temporarily disable or ignore alerts related to under-replicated partitions.

To place a node into maintenance mode:

```bash
rpk cluster maintenance enable <node-id> --wait
```

The `--wait` option ensures that `rpk` waits until leadership draining is complete before responding.

To remove a node from maintenance mode (and thus enable the node to start taking leadership of partitions):

```bash
rpk cluster maintenance disable <node-id> 
```

To see the maintenance status of nodes in the cluster:

```bash
rpk cluster maintenance status
```

The output of this command identifies which nodes in the cluster are in the process of draining leadership, which are finished with that process, and whether any nodes had resulting errors.